/*! lm js minified, previous for v1.45 */
/*! lm js minified, now for v1.63 */

/*! Some copyright information are hidden. Standalone files are in /js/. */

/*! jQuery UI Widget - v1.10.3 */
(function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(a){}n(t)},e.widget=function(i,s,n){var a,r,o,h,l={},u=i.split(".")[0];i=i.split(".")[1],a=u+"-"+i,n||(n=s,s=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(n,function(i,n){return e.isFunction(n)?(l[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments)},t=function(e){return s.prototype[i].apply(this,e)};return function(){var i,s=this._super,a=this._superApply;return this._super=e,this._superApply=t,i=n.apply(this,arguments),this._super=s,this._superApply=a,i}}(),t):(l[i]=n,t)}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},l,{constructor:o,namespace:u,widgetName:i,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var n,a,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(n in r[o])a=r[o][n],r[o].hasOwnProperty(n)&&a!==t&&(i[n]=e.isPlainObject(a)?e.isPlainObject(i[n])?e.widget.extend({},i[n],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,n=e.data(this,a);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,h),s!==n&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,a);t?t.option(r||{})._init():e.data(this,a,new n(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var n,a,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},n=i.split("."),i=n.shift(),n.length){for(a=o[i]=e.widget.extend({},this.options[i]),r=0;n.length-1>r;r++)a[n[r]]=a[n[r]]||{},a=a[n[r]];if(i=n.pop(),s===t)return a[i]===t?null:a[i];a[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var a,r=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=a=e(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,a=this.widget()),e.each(n,function(n,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?a.delegate(c,u,h):s.bind(u,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var r,o=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[o]?s[t](n):o!==t&&s[o]?s[o](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}})})(jQuery);

/*! Magnific Popup v0.9.9 by Dmitry Semenov
 * http://bit.ly/magnific-popup#build=inline+image+iframe+gallery+fastclick */
(function(a){var b="Close",c="BeforeClose",d="AfterClose",e="BeforeAppend",f="MarkupParse",g="Open",h="Change",i="mfp",j="."+i,k="mfp-ready",l="mfp-removing",m="mfp-prevent-close",n,o=function(){},p=!!window.jQuery,q,r=a(window),s,t,u,v,w,x=function(a,b){n.ev.on(i+a+j,b)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(b,c){n.ev.triggerHandler(i+b,c),n.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),n.st.callbacks[b]&&n.st.callbacks[b].apply(n,a.isArray(c)?c:[c]))},A=function(b){if(b!==w||!n.currTemplate.closeBtn)n.currTemplate.closeBtn=a(n.st.closeMarkup.replace("%title%",n.st.tClose)),w=b;return n.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(n=new o,n.init(),a.magnificPopup.instance=n)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(a.transition!==undefined)return!0;while(b.length)if(b.pop()+"Transition"in a)return!0;return!1};o.prototype={constructor:o,init:function(){var b=navigator.appVersion;n.isIE7=b.indexOf("MSIE 7.")!==-1,n.isIE8=b.indexOf("MSIE 8.")!==-1,n.isLowIE=n.isIE7||n.isIE8,n.isAndroid=/android/gi.test(b),n.isIOS=/iphone|ipad|ipod/gi.test(b),n.supportsTransition=C(),n.probablyMobile=n.isAndroid||n.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),t=a(document),n.popupsCache={}},open:function(b){s||(s=a(document.body));var c;if(b.isObj===!1){n.items=b.items.toArray(),n.index=0;var d=b.items,e;for(c=0;c<d.length;c++){e=d[c],e.parsed&&(e=e.el[0]);if(e===b.el[0]){n.index=c;break}}}else n.items=a.isArray(b.items)?b.items:[b.items],n.index=b.index||0;if(n.isOpen){n.updateItemHTML();return}n.types=[],v="",b.mainEl&&b.mainEl.length?n.ev=b.mainEl.eq(0):n.ev=t,b.key?(n.popupsCache[b.key]||(n.popupsCache[b.key]={}),n.currTemplate=n.popupsCache[b.key]):n.currTemplate={},n.st=a.extend(!0,{},a.magnificPopup.defaults,b),n.fixedContentPos=n.st.fixedContentPos==="auto"?!n.probablyMobile:n.st.fixedContentPos,n.st.modal&&(n.st.closeOnContentClick=!1,n.st.closeOnBgClick=!1,n.st.showCloseBtn=!1,n.st.enableEscapeKey=!1),n.bgOverlay||(n.bgOverlay=y("bg").on("click"+j,function(){n.close()}),n.wrap=y("wrap").attr("tabindex",-1).on("click"+j,function(a){n._checkIfClose(a.target)&&n.close()}),n.container=y("container",n.wrap)),n.contentContainer=y("content"),n.st.preloader&&(n.preloader=y("preloader",n.container,n.st.tLoading));var h=a.magnificPopup.modules;for(c=0;c<h.length;c++){var i=h[c];i=i.charAt(0).toUpperCase()+i.slice(1),n["init"+i].call(n)}z("BeforeOpen"),n.st.showCloseBtn&&(n.st.closeBtnInside?(x(f,function(a,b,c,d){c.close_replaceWith=A(d.type)}),v+=" mfp-close-btn-in"):n.wrap.append(A())),n.st.alignTop&&(v+=" mfp-align-top"),n.fixedContentPos?n.wrap.css({overflow:n.st.overflowY,overflowX:"hidden",overflowY:n.st.overflowY}):n.wrap.css({top:r.scrollTop(),position:"absolute"}),(n.st.fixedBgPos===!1||n.st.fixedBgPos==="auto"&&!n.fixedContentPos)&&n.bgOverlay.css({height:t.height(),position:"absolute"}),n.st.enableEscapeKey&&t.on("keyup"+j,function(a){a.keyCode===27&&n.close()}),r.on("resize"+j,function(){n.updateSize()}),n.st.closeOnContentClick||(v+=" mfp-auto-cursor"),v&&n.wrap.addClass(v);var l=n.wH=r.height(),m={};if(n.fixedContentPos&&n._hasScrollBar(l)){var o=n._getScrollbarSize();o&&(m.marginRight=o)}n.fixedContentPos&&(n.isIE7?a("body, html").css("overflow","hidden"):m.overflow="hidden");var p=n.st.mainClass;return n.isIE7&&(p+=" mfp-ie7"),p&&n._addClassToMFP(p),n.updateItemHTML(),z("BuildControls"),a("html").css(m),n.bgOverlay.add(n.wrap).prependTo(n.st.prependTo||s),n._lastFocusedEl=document.activeElement,setTimeout(function(){n.content?(n._addClassToMFP(k),n._setFocus()):n.bgOverlay.addClass(k),t.on("focusin"+j,n._onFocusIn)},16),n.isOpen=!0,n.updateSize(l),z(g),b},close:function(){if(!n.isOpen)return;z(c),n.isOpen=!1,n.st.removalDelay&&!n.isLowIE&&n.supportsTransition?(n._addClassToMFP(l),setTimeout(function(){n._close()},n.st.removalDelay)):n._close()},_close:function(){z(b);var c=l+" "+k+" ";n.bgOverlay.detach(),n.wrap.detach(),n.container.empty(),n.st.mainClass&&(c+=n.st.mainClass+" "),n._removeClassFromMFP(c);if(n.fixedContentPos){var e={marginRight:""};n.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}t.off("keyup"+j+" focusin"+j),n.ev.off(j),n.wrap.attr("class","mfp-wrap").removeAttr("style"),n.bgOverlay.attr("class","mfp-bg"),n.container.attr("class","mfp-container"),n.st.showCloseBtn&&(!n.st.closeBtnInside||n.currTemplate[n.currItem.type]===!0)&&n.currTemplate.closeBtn&&n.currTemplate.closeBtn.detach(),n._lastFocusedEl&&a(n._lastFocusedEl).focus(),n.currItem=null,n.content=null,n.currTemplate=null,n.prevHeight=0,z(d)},updateSize:function(a){if(n.isIOS){var b=document.documentElement.clientWidth/window.innerWidth,c=window.innerHeight*b;n.wrap.css("height",c),n.wH=c}else n.wH=a||r.height();n.fixedContentPos||n.wrap.css("height",n.wH),z("Resize")},updateItemHTML:function(){var b=n.items[n.index];n.contentContainer.detach(),n.content&&n.content.detach(),b.parsed||(b=n.parseEl(n.index));var c=b.type;z("BeforeChange",[n.currItem?n.currItem.type:"",c]),n.currItem=b;if(!n.currTemplate[c]){var d=n.st[c]?n.st[c].markup:!1;z("FirstMarkupParse",d),d?n.currTemplate[c]=a(d):n.currTemplate[c]=!0}u&&u!==b.type&&n.container.removeClass("mfp-"+u+"-holder");var e=n["get"+c.charAt(0).toUpperCase()+c.slice(1)](b,n.currTemplate[c]);n.appendContent(e,c),b.preloaded=!0,z(h,b),u=b.type,n.container.prepend(n.contentContainer),z("AfterChange")},appendContent:function(a,b){n.content=a,a?n.st.showCloseBtn&&n.st.closeBtnInside&&n.currTemplate[b]===!0?n.content.find(".mfp-close").length||n.content.append(A()):n.content=a:n.content="",z(e),n.container.addClass("mfp-"+b+"-holder"),n.contentContainer.append(n.content)},parseEl:function(b){var c=n.items[b],d;c.tagName?c={el:a(c)}:(d=c.type,c={data:c,src:c.src});if(c.el){var e=n.types;for(var f=0;f<e.length;f++)if(c.el.hasClass("mfp-"+e[f])){d=e[f];break}c.src=c.el.attr("data-mfp-src"),c.src||(c.src=c.el.attr("href"))}return c.type=d||n.st.type||"inline",c.index=b,c.parsed=!0,n.items[b]=c,z("ElementParse",c),n.items[b]},addGroup:function(a,b){var c=function(c){c.mfpEl=this,n._openClick(c,a,b)};b||(b={});var d="click.magnificPopup";b.mainEl=a,b.items?(b.isObj=!0,a.off(d).on(d,c)):(b.isObj=!1,b.delegate?a.off(d).on(d,b.delegate,c):(b.items=a,a.off(d).on(d,c)))},_openClick:function(b,c,d){var e=d.midClick!==undefined?d.midClick:a.magnificPopup.defaults.midClick;if(!e&&(b.which===2||b.ctrlKey||b.metaKey))return;var f=d.disableOn!==undefined?d.disableOn:a.magnificPopup.defaults.disableOn;if(f)if(a.isFunction(f)){if(!f.call(n))return!0}else if(r.width()<f)return!0;b.type&&(b.preventDefault(),n.isOpen&&b.stopPropagation()),d.el=a(b.mfpEl),d.delegate&&(d.items=c.find(d.delegate)),n.open(d)},updateStatus:function(a,b){if(n.preloader){q!==a&&n.container.removeClass("mfp-s-"+q),!b&&a==="loading"&&(b=n.st.tLoading);var c={status:a,text:b};z("UpdateStatus",c),a=c.status,b=c.text,n.preloader.html(b),n.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),n.container.addClass("mfp-s-"+a),q=a}},_checkIfClose:function(b){if(a(b).hasClass(m))return;var c=n.st.closeOnContentClick,d=n.st.closeOnBgClick;if(c&&d)return!0;if(!n.content||a(b).hasClass("mfp-close")||n.preloader&&b===n.preloader[0])return!0;if(b!==n.content[0]&&!a.contains(n.content[0],b)){if(d&&a.contains(document,b))return!0}else if(c)return!0;return!1},_addClassToMFP:function(a){n.bgOverlay.addClass(a),n.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),n.wrap.removeClass(a)},_hasScrollBar:function(a){return(n.isIE7?t.height():document.body.scrollHeight)>(a||r.height())},_setFocus:function(){(n.st.focus?n.content.find(n.st.focus).eq(0):n.wrap).focus()},_onFocusIn:function(b){if(b.target!==n.wrap[0]&&!a.contains(n.wrap[0],b.target))return n._setFocus(),!1},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(f,[b,c,d]),a.each(c,function(a,c){if(c===undefined||c===!1)return!0;e=a.split("_");if(e.length>1){var d=b.find(j+"-"+e[0]);if(d.length>0){var f=e[1];f==="replaceWith"?d[0]!==c[0]&&d.replaceWith(c):f==="img"?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(j+"-"+a).html(c)})},_getScrollbarSize:function(){if(n.scrollbarSize===undefined){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),n.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return n.scrollbarSize}},a.magnificPopup={instance:null,proto:o.prototype,modules:[],open:function(b,c){return B(),b?b=a.extend(!0,{},b):b={},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(b){B();var c=a(this);if(typeof b=="string")if(b==="open"){var d,e=p?c.data("magnificPopup"):c[0].magnificPopup,f=parseInt(arguments[1],10)||0;e.items?d=e.items[f]:(d=c,e.delegate&&(d=d.find(e.delegate)),d=d.eq(f)),n._openClick({mfpEl:d},c,e)}else n.isOpen&&n[b].apply(n,Array.prototype.slice.call(arguments,1));else b=a.extend(!0,{},b),p?c.data("magnificPopup",b):c[0].magnificPopup=b,n.addGroup(c,b);return c};var D="inline",E,F,G,H=function(){G&&(F.after(G.addClass(E)).detach(),G=null)};a.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){n.types.push(D),x(b+"."+D,function(){H()})},getInline:function(b,c){H();if(b.src){var d=n.st.inline,e=a(b.src);if(e.length){var f=e[0].parentNode;f&&f.tagName&&(F||(E=d.hiddenClass,F=y(E),E="mfp-"+E),G=e.after(F).detach().removeClass(E)),n.updateStatus("ready")}else n.updateStatus("error",d.tNotFound),e=a("<div>");return b.inlineElement=e,e}return n.updateStatus("ready"),n._parseMarkup(c,{},b),c}}});var I,J=function(b){if(b.data&&b.data.title!==undefined)return b.data.title;var c=n.st.image.titleSrc;if(c){if(a.isFunction(c))return c.call(n,b);if(b.el)return b.el.attr(c)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=n.st.image,c=".image";n.types.push("image"),x(g+c,function(){n.currItem.type==="image"&&a.cursor&&s.addClass(a.cursor)}),x(b+c,function(){a.cursor&&s.removeClass(a.cursor),r.off("resize"+j)}),x("Resize"+c,n.resizeImage),n.isLowIE&&x("AfterChange",n.resizeImage)},resizeImage:function(){var a=n.currItem;if(!a||!a.img)return;if(n.st.image.verticalFit){var b=0;n.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",n.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,I&&clearInterval(I),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(n.content&&n.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var b=0,c=a.img[0],d=function(e){I&&clearInterval(I),I=setInterval(function(){if(c.naturalWidth>0){n._onImageHasSize(a);return}b>200&&clearInterval(I),b++,b===3?d(10):b===40?d(50):b===100&&d(500)},e)};d(1)},getImage:function(b,c){var d=0,e=function(){b&&(b.img[0].complete?(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("ready")),b.hasSize=!0,b.loaded=!0,z("ImageLoadComplete")):(d++,d<200?setTimeout(e,100):f()))},f=function(){b&&(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("error",g.tError.replace("%url%",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},g=n.st.image,h=c.find(".mfp-img");if(h.length){var i=document.createElement("img");i.className="mfp-img",b.img=a(i).on("load.mfploader",e).on("error.mfploader",f),i.src=b.src,h.is("img")&&(b.img=b.img.clone()),i=b.img[0],i.naturalWidth>0?b.hasSize=!0:i.width||(b.hasSize=!1)}return n._parseMarkup(c,{title:J(b),img_replaceWith:b.img},b),n.resizeImage(),b.hasSize?(I&&clearInterval(I),b.loadError?(c.addClass("mfp-loading"),n.updateStatus("error",g.tError.replace("%url%",b.src))):(c.removeClass("mfp-loading"),n.updateStatus("ready")),c):(n.updateStatus("loading"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass("mfp-loading"),n.findImageSize(b)),c)}}});var K,L=function(){return K===undefined&&(K=document.createElement("p").style.MozTransform!==undefined),K};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a=n.st.zoom,d=".zoom",e;if(!a.enabled||!n.supportsTransition)return;var f=a.duration,g=function(b){var c=b.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+a.duration/1e3+"s "+a.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,c.css(e),c},h=function(){n.content.css("visibility","visible")},i,j;x("BuildControls"+d,function(){if(n._allowZoom()){clearTimeout(i),n.content.css("visibility","hidden"),e=n._getItemToZoom();if(!e){h();return}j=g(e),j.css(n._getOffset()),n.wrap.append(j),i=setTimeout(function(){j.css(n._getOffset(!0)),i=setTimeout(function(){h(),setTimeout(function(){j.remove(),e=j=null,z("ZoomAnimationEnded")},16)},f)},16)}}),x(c+d,function(){if(n._allowZoom()){clearTimeout(i),n.st.removalDelay=f;if(!e){e=n._getItemToZoom();if(!e)return;j=g(e)}j.css(n._getOffset(!0)),n.wrap.append(j),n.content.css("visibility","hidden"),setTimeout(function(){j.css(n._getOffset())},16)}}),x(b+d,function(){n._allowZoom()&&(h(),j&&j.remove(),e=null)})},_allowZoom:function(){return n.currItem.type==="image"},_getItemToZoom:function(){return n.currItem.hasSize?n.currItem.img:!1},_getOffset:function(b){var c;b?c=n.currItem.img:c=n.st.zoom.opener(n.currItem.el||n.currItem);var d=c.offset(),e=parseInt(c.css("padding-top"),10),f=parseInt(c.css("padding-bottom"),10);d.top-=a(window).scrollTop()-e;var g={width:c.width(),height:(p?c.innerHeight():c[0].offsetHeight)-f-e};return L()?g["-moz-transform"]=g.transform="translate("+d.left+"px,"+d.top+"px)":(g.left=d.left,g.top=d.top),g}}});var M="iframe",N="//about:blank",O=function(a){if(n.currTemplate[M]){var b=n.currTemplate[M].find("iframe");b.length&&(a||(b[0].src=N),n.isIE8&&b.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(M,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){n.types.push(M),x("BeforeChange",function(a,b,c){b!==c&&(b===M?O():c===M&&O(!0))}),x(b+"."+M,function(){O()})},getIframe:function(b,c){var d=b.src,e=n.st.iframe;a.each(e.patterns,function(){if(d.indexOf(this.index)>-1)return this.id&&(typeof this.id=="string"?d=d.substr(d.lastIndexOf(this.id)+this.id.length,d.length):d=this.id.call(this,d)),d=this.src.replace("%id%",d),!1});var f={};return e.srcAction&&(f[e.srcAction]=d),n._parseMarkup(c,f,b),n.updateStatus("ready"),c}}});var P=function(a){var b=n.items.length;return a>b-1?a-b:a<0?b+a:a},Q=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=n.st.gallery,d=".mfp-gallery",e=Boolean(a.fn.mfpFastClick);n.direction=!0;if(!c||!c.enabled)return!1;v+=" mfp-gallery",x(g+d,function(){c.navigateByImgClick&&n.wrap.on("click"+d,".mfp-img",function(){if(n.items.length>1)return n.next(),!1}),t.on("keydown"+d,function(a){a.keyCode===37?n.prev():a.keyCode===39&&n.next()})}),x("UpdateStatus"+d,function(a,b){b.text&&(b.text=Q(b.text,n.currItem.index,n.items.length))}),x(f+d,function(a,b,d,e){var f=n.items.length;d.counter=f>1?Q(c.tCounter,e.index,f):""}),x("BuildControls"+d,function(){if(n.items.length>1&&c.arrows&&!n.arrowLeft){var b=c.arrowMarkup,d=n.arrowLeft=a(b.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(m),f=n.arrowRight=a(b.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(m),g=e?"mfpFastClick":"click";d[g](function(){n.prev()}),f[g](function(){n.next()}),n.isIE7&&(y("b",d[0],!1,!0),y("a",d[0],!1,!0),y("b",f[0],!1,!0),y("a",f[0],!1,!0)),n.container.append(d.add(f))}}),x(h+d,function(){n._preloadTimeout&&clearTimeout(n._preloadTimeout),n._preloadTimeout=setTimeout(function(){n.preloadNearbyImages(),n._preloadTimeout=null},16)}),x(b+d,function(){t.off(d),n.wrap.off("click"+d),n.arrowLeft&&e&&n.arrowLeft.add(n.arrowRight).destroyMfpFastClick(),n.arrowRight=n.arrowLeft=null})},next:function(){n.direction=!0,n.index=P(n.index+1),n.updateItemHTML()},prev:function(){n.direction=!1,n.index=P(n.index-1),n.updateItemHTML()},goTo:function(a){n.direction=a>=n.index,n.index=a,n.updateItemHTML()},preloadNearbyImages:function(){var a=n.st.gallery.preload,b=Math.min(a[0],n.items.length),c=Math.min(a[1],n.items.length),d;for(d=1;d<=(n.direction?c:b);d++)n._preloadItem(n.index+d);for(d=1;d<=(n.direction?b:c);d++)n._preloadItem(n.index-d)},_preloadItem:function(b){b=P(b);if(n.items[b].preloaded)return;var c=n.items[b];c.parsed||(c=n.parseEl(b)),z("LazyLoad",c),c.type==="image"&&(c.img=a('<img class="mfp-img" />').on("load.mfploader",function(){c.hasSize=!0}).on("error.mfploader",function(){c.hasSize=!0,c.loadError=!0,z("LazyLoadError",c)}).attr("src",c.src)),c.preloaded=!0}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){r.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g=a(this),h;if(c){var i,j,k,l,m,n;g.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,r.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0];if(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)l=!0,d()}).on("touchend"+f,function(a){d();if(l||n>1)return;h=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){h=!1},b),e()})})}g.on("click"+f,function(){h||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&r.off("touchmove"+f+" touchend"+f)}}(),B()})(window.jQuery||window.Zepto)

/*! Timeago @version 1.4.0 */
/*! v1.63 - Now with ZH-TW translation */
/*! v1.64 - fix bug */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){if(!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var e=i(this),o=r.settings;return isNaN(e.datetime)||(0==o.cutoff||n(e.datetime)<o.cutoff)&&t(this).text(a(e.datetime)),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:r.datetime(e)});var i=t.trim(e.text());r.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||r.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function a(t){return r.inWords(n(t))}function n(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return a(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var r=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"前",suffixFromNow:"後",several_seconds:"幾秒",seconds:"%d 秒",minute:"約 1 分鐘",minutes:"%d 分鐘",hour:"約 1 小時",hours:"%d 小時",day:"約 1 天",days:"%d 天",month:"約 1 個月",months:"%d 個月",year:"約 1 年",years:"%d 年",wordSeparator:"",numbers:[]}},inWords:function(e){function i(i,n){var r=t.isFunction(i)?i(n,e):i,o=a.numbers&&a.numbers[n]||n;return r.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var a=this.settings.strings,n=a.prefixAgo,r=a.suffixAgo;if(this.settings.allowFuture&&0>e&&(n=a.prefixFromNow,r=a.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var o=Math.abs(e)/1e3,s=o/60,u=s/60,d=u/24,l=d/365,m=15>o&&i(a.several_seconds||a.seconds,Math.round(o))||45>o&&i(a.seconds,Math.round(o))||90>o&&i(a.minute,1)||45>s&&i(a.minutes,Math.round(s))||90>s&&i(a.hour,1)||22>u&&i(a.hours,Math.round(u))||36>u&&i(a.day,1)||25>d&&i(a.days,Math.round(d))||45>d&&i(a.month,1)||345>d&&i(a.months,Math.round(d/30))||1.5>l&&i(a.year,1)||i(a.years,Math.round(l)),f=a.wordSeparator||"";return void 0===a.wordSeparator&&(f=" "),t.trim([n,m,r].join(f))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/(\d{2})T/,"$1 ").replace(/(\d{2})Z/,"$1 UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(e){var i=t(e).attr(r.isTime(e)?"datetime":"title");return r.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var o={init:function(){var i=t.proxy(e,this);i();var a=r.settings;a.refreshMillis>0&&(this._timeagoInterval=setInterval(i,a.refreshMillis))},update:function(i){var a=r.parse(i);t(this).data("timeago",{datetime:a}),r.settings.localeTitle&&t(this).attr("title",a.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:r.parse(t(this).attr(r.isTime(this)?"datetime":"title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var i=t?o[t]:o.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")});
//+function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=i(this),o=n.settings;return isNaN(e.datetime)||(0==o.cutoff||r(e.datetime)<o.cutoff)&&t(this).text(a(e.datetime)),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:n.datetime(e)});var i=t.trim(e.text());n.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||n.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function a(t){return n.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return a(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var n=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"前",suffixFromNow:"後",several_seconds:"幾秒",seconds:"%d 秒",minute:"約 1 分鐘",minutes:"%d 分鐘",hour:"約 1 小時",hours:"%d 小時",day:"約 1 天",days:"%d 天",month:"約 1 個月",months:"%d 個月",year:"約 1 年",years:"%d 年",numbers:[],wordSeparator:""}},inWords:function(e){function i(i,r){var n=t.isFunction(i)?i(r,e):i,o=a.numbers&&a.numbers[r]||r;return n.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var a=this.settings.strings,r=a.prefixAgo,n=a.suffixAgo;if(this.settings.allowFuture&&0>e&&(r=a.prefixFromNow,n=a.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var o=Math.abs(e)/1e3,s=o/60,u=s/60,l=u/24,d=l/365,m=15>o&&i(a.several_seconds||a.seconds,Math.round(o))||45>o&&i(a.seconds,Math.round(o))||90>o&&i(a.minute,1)||45>s&&i(a.minutes,Math.round(s))||90>s&&i(a.hour,1)||22>u&&i(a.hours,Math.round(u))||36>u&&i(a.day,1)||25>l&&i(a.days,Math.round(l))||45>l&&i(a.month,1)||345>l&&i(a.months,Math.round(l/30))||1.5>d&&i(a.year,1)||i(a.years,Math.round(d)),f=a.wordSeparator||"";return void 0===a.wordSeparator&&(f=" "),t.trim([r,m,n].join(f))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(e){var i=t(e).attr(n.isTime(e)?"datetime":"title");return n.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var o={init:function(){var i=t.proxy(e,this);i();var a=n.settings;a.refreshMillis>0&&(this._timeagoInterval=setInterval(i,a.refreshMillis))},update:function(i){var a=n.parse(i);t(this).data("timeago",{datetime:a}),n.settings.localeTitle&&t(this).attr("title",a.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:n.parse(t(this).attr(n.isTime(this)?"datetime":"title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var i=t?o[t]:o.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")});

/*! jQuery Cookie Plugin v1.3.1 */
+(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(e){var a=/\+/g;function d(g){return g}function b(g){return decodeURIComponent(g.replace(a," "))}function f(g){if(g.indexOf('"')===0){g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return c.json?JSON.parse(g):g}catch(h){}}var c=e.cookie=function(p,o,u){if(o!==undefined){u=e.extend({},c.defaults,u);if(typeof u.expires==="number"){var q=u.expires,s=u.expires=new Date();s.setDate(s.getDate()+q)}o=c.json?JSON.stringify(o):String(o);return(document.cookie=[c.raw?p:encodeURIComponent(p),"=",c.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join(""))}var g=c.raw?d:b;var r=document.cookie.split("; ");var v=p?undefined:{};for(var n=0,k=r.length;n<k;n++){var m=r[n].split("=");var h=g(m.shift());var j=g(m.join("="));if(p&&p===h){v=f(j);break}if(!p){v[h]=f(j)}}return v};c.defaults={};e.removeCookie=function(h,g){if(e.cookie(h)!==undefined){e.cookie(h,"",e.extend({},g,{expires:-1}));return true}return false}}));

/*! PathJS v0.8.4 */
var Path={version:"0.8.4",map:function(t){return Path.routes.defined.hasOwnProperty(t)?Path.routes.defined[t]:new Path.core.route(t)},root:function(t){Path.routes.root=t},rescue:function(t){Path.routes.rescue=t},history:{initial:{},pushState:function(t,e,o){Path.history.supported?Path.dispatch(o)&&history.pushState(t,e,o):Path.history.fallback&&(window.location.hash="#"+o)},popState:function(){var t=!Path.history.initial.popped&&location.href==Path.history.initial.URL;Path.history.initial.popped=!0,t||Path.dispatch(document.location.pathname)},listen:function(t){if(Path.history.supported=!(!window.history||!window.history.pushState),Path.history.fallback=t,Path.history.supported)Path.history.initial.popped="state"in window.history,Path.history.initial.URL=location.href,window.onpopstate=Path.history.popState;else if(Path.history.fallback){for(route in Path.routes.defined)"#"!=route.charAt(0)&&(Path.routes.defined["#"+route]=Path.routes.defined[route],Path.routes.defined["#"+route].path="#"+route);Path.listen()}}},match:function(t,e){function o(t,e){for(var o,n,i=e.split("/"),h=/\/?([^\/]+)/,r=!0,a={};r&&i.length&&t.length&&(o=h.exec(t));t=t.substring(o[0].length)){var n=i.shift();":"==n.charAt(0)?a[n.substring(1)]=o[1]:n!==o[1]&&(r=!1)}return r&&0===i.length&&0===t.length?a:!1}var n,i,h,r,a={},s=null;for(s in Path.routes.defined)if(null!==s&&void 0!==s)for(s=Path.routes.defined[s],n=s.partition(),h=0;h<n.length;h++)if(i=n[h],r=t,a=o(r,i))return e&&(s.params=a),s;return null},dispatch:function(t){var e,o;if(Path.routes.current!==t){if(Path.routes.previous=Path.routes.current,Path.routes.current=t,o=Path.match(t,!0),Path.routes.previous&&(e=Path.match(Path.routes.previous),null!==e&&null!==e.do_exit&&e.do_exit()),null!==o)return o.run(),!0;null!==Path.routes.rescue&&Path.routes.rescue()}},listen:function(){var t=function(){Path.dispatch(location.hash)};""===location.hash&&null!==Path.routes.root&&(location.hash=Path.routes.root),"onhashchange"in window&&(!document.documentMode||document.documentMode>=8)?window.onhashchange=t:setInterval(t,50),""!==location.hash&&Path.dispatch(location.hash)},core:{route:function(t){this.path=t,this.action=null,this.do_enter=[],this.do_exit=null,this.params={},Path.routes.defined[t]=this}},routes:{current:null,root:null,rescue:null,previous:null,defined:{}}};Path.core.route.prototype={to:function(t){return this.action=t,this},enter:function(t){return t instanceof Array?this.do_enter=this.do_enter.concat(t):this.do_enter.push(t),this},exit:function(t){return this.do_exit=t,this},partition:function(){for(var t,e,o=[],n=[],i=/\(([^}]+?)\)/g;t=i.exec(this.path);)o.push(t[1]);for(n.push(this.path.split("(")[0]),e=0;e<o.length;e++)n.push(n[n.length-1]+o[e]);return n},run:function(){var t,e,o=!1;if(Path.routes.defined[this.path].hasOwnProperty("do_enter")&&Path.routes.defined[this.path].do_enter.length>0)for(t=0;t<Path.routes.defined[this.path].do_enter.length;t++)if(e=Path.routes.defined[this.path].do_enter[t].apply(this,null),e===!1){o=!0;break}o||Path.routes.defined[this.path].action()}};

/*! Bootstrap v3.1.1 | Components */
/*! > Popover */
+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);var e=this.options.trigger.split(" ");for(var f=e.length;f--;){var g=e[f];if(g=="click")this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if(g!="manual"){var h=g=="hover"?"mouseenter":"focusin",i=g=="hover"?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout),c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout),c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e=typeof this.options.placement=="function"?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n=this.options.container=="body"?window.innerWidth:k.outerWidth(),o=this.options.container=="body"?window.innerHeight:k.outerHeight(),p=this.options.container=="body"?0:k.offset().left;e=e=="bottom"&&h.top+h.height+j-m>o?"top":e=="top"&&h.top-m-j<0?"bottom":e=="right"&&h.right+i>n?"left":e=="left"&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;c=="top"&&k!=g&&(d=!0,b.top=b.top+g-k);if(/bottom|top/.test(c)){var l=0;b.left<0&&(l=b.left*-2,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function e(){b.hoverState!="in"&&c.detach(),b.$element.trigger("hidden.bs."+b.type)}var b=this,c=this.tip(),d=a.Event("hide.bs."+this.type);this.$element.trigger(d);if(d.isDefaultPrevented())return;return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?c.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},typeof b.getBoundingClientRect=="function"?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return a=="bottom"?{top:b.top+b.height,left:b.left+b.width/2-c/2}:a=="top"?{top:b.top-d,left:b.left+b.width/2-c/2}:a=="left"?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f=typeof c=="object"&&c;if(!e&&c=="destroy")return;e||d.data("bs.tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?typeof c=="string"?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||(typeof b.content=="function"?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f=typeof c=="object"&&c;if(!e&&c=="destroy")return;e||d.data("bs.popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery)
/*! > Transition */
+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(a.style[c]!==undefined)return{end:b[c]};return!1}"use strict",a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery)
/*! > Collapsible */
+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var b=a.Event("show.bs.collapse");this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])},b.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return d.call(this);this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350)},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c);!e&&f.toggle&&c=="show"&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":c.data(),i=c.attr("data-parent"),j=i&&a(i);if(!g||!g.transitioning)j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(c).addClass("collapsed"),c[f.hasClass("in")?"addClass":"removeClass"]("collapsed");f.collapse(h)})}(jQuery)

/*! FastClick v1.0.1 */
function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||3,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,r=0,c=o.length;c>r;r++)s[o[r]]=i(s[o[r]],s);deviceIsAndroid&&(t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,n,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=r.tagName.toLowerCase(),"label"===n){if(e=this.findControl(r)){if(this.focus(r),deviceIsAndroid)return!1;r=e}}else if(this.needsFocus(r))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,t),deviceIsIOS&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(o=r.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(r)||(t.preventDefault(),this.sendClick(r,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;

/*! MetroUI */
/*!
Customized Metro UI CSS for including to LMClient-based apps.
By Andy, 2014/4/12
*/
//Global
var METRO_AUTO_REINIT;var METRO_LOCALE;var METRO_WEEK_START;var METRO_DIALOG=false;
//Core
(function(b){b.Metro=function(a){a=b.extend({},a)};b.Metro.getDeviceSize=function(){var d=(window.innerWidth>0)?window.innerWidth:screen.width;var a=(window.innerHeight>0)?window.innerHeight:screen.height;return{width:d,height:a}}})(jQuery);$(function(){$("html").on("click",function(b){$(".dropdown-menu").each(function(a,d){if(!$(d).hasClass("keep-open")&&$(d).css("display")=="block"){$(d).hide()}})})});$(function(){$(window).on("resize",function(){if(METRO_DIALOG){var c=($(window).height()-METRO_DIALOG.outerHeight())/2;var d=($(window).width()-METRO_DIALOG.outerWidth())/2;METRO_DIALOG.css({top:c,left:d})}})});

//Accordion
//(function(b){b.widget("metro.accordion",{version:"1.0.0",options:{closeAny:true,open:function(a){},action:function(a){}},_frames:{},_create:function(){var a=this.element;if(a.data("closeany")!=undefined){this.options.closeAny=a.data("closeany")}this._frames=a.children(".accordion-frame");this.init()},init:function(){var a=this;this._frames.each(function(){var f=this,h=b(this).children(".heading"),g=b(this).children(".content");if(b(h).hasClass("active")&&!b(h).attr("disabled")&&b(h).data("action")!="none"){b(g).show();b(h).removeClass("collapsed")}else{b(h).addClass("collapsed")}h.on("click",function(c){c.preventDefault();if(b(this).attr("disabled")||b(this).data("action")=="none"){return}if(a.options.closeAny){a._closeFrames()}if(b(g).is(":hidden")){b(g).slideDown();b(this).removeClass("collapsed");a._trigger("frame",c,{frame:f});a.options.open(f)}else{b(g).slideUp();b(this).addClass("collapsed")}a.options.action(f)})})},_closeFrames:function(){this._frames.children(".content").slideUp().parent().children(".heading").addClass("collapsed")},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);
//Dropdown
(function(b){b.widget("metro.dropdown",{version:"1.0.1",options:{effect:"slide",toggleElement:false},_create:function(){var h=this,g=this.element,j=this.name,i=this.element.parent(),a=this.options.toggleElement||i.children(".dropdown-toggle");if(g.data("effect")!=undefined){this.options.effect=g.data("effect")}a.on("click."+j,function(c){c.preventDefault();c.stopPropagation();if(g.css("display")=="block"&&!g.hasClass("keep-open")){h._close(g)}else{b(".dropdown-menu").each(function(e,d){if(!g.parents(".dropdown-menu").is(d)&&!b(d).hasClass("keep-open")&&b(d).css("display")=="block"){h._close(d)}});h._open(g)}});b(g).find("li.disabled a").on("click",function(c){c.preventDefault()})},_open:function(a){switch(this.options.effect){case"fade":b(a).fadeIn("fast");break;case"slide":b(a).slideDown("fast");break;default:b(a).hide()}this._trigger("onOpen",null,a)},_close:function(a){switch(this.options.effect){case"fade":b(a).fadeOut("fast");break;case"slide":b(a).slideUp("fast");break;default:b(a).hide()}this._trigger("onClose",null,a)},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);
//Input Controls
(function(b){b.widget("metro.inputControl",{version:"1.0.0",options:{},_create:function(){var a=this,d=this.element;if(d.hasClass("text")){this.initTextInput(d,a)}else{if(d.hasClass("password")){this.initPasswordInput(d,a)}else{if(d.hasClass("checkbox")||d.hasClass("radio")||d.hasClass("switch")){this.initCheckboxInput(d,a)}else{if(d.hasClass("file")){this.initFileInput(d,a)}}}}},initCheckboxInput:function(a,d){},initFileInput:function(i,h){var j,a,g;g=b("<input type='text' id='__input_file_wrapper__' readonly style='z-index: 1; cursor: default;'>");j=i.children(".btn-file");a=i.children('input[type="file"]');a.css("z-index",0);g.insertAfter(a);a.attr("tabindex","-1");j.attr("type","button");a.on("change",function(){var c=b(this).val();if(c!=""){g.val(c)}});j.on("click",function(){a.trigger("click")})},initTextInput:function(g,f){var h=g.children(".btn-clear"),a=g.children("input[type=text]");if(h.length==0){return}h.attr("tabindex","-1");h.attr("type","button");h.on("click",function(){a=g.children("input");if(a.prop("readonly")){return}a.val("");a.focus();f._trigger("onClear",null,g)});if(!a.attr("disabled")){a.on("click",function(){b(this).focus()})}},initPasswordInput:function(i,h){var j=i.children(".btn-reveal"),a=i.children("input[type=password]");var g;if(j.length==0){return}j.attr("tabindex","-1");j.attr("type","button");j.on("mousedown",function(c){a.attr("type","text")});j.on("mouseup, mouseleave, blur",function(c){a.attr("type","password").focus()});if(!a.attr("disabled")){a.on("click",function(){b(this).focus()})}},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);(function(b){b.widget("metro.inputTransform",{version:"1.0.0",options:{transformType:"text"},_create:function(){var h=this,j=this.element,i;var a=j.parent().hasClass("input-control");if(a){return}i=j.get(0).tagName.toLowerCase();if(i=="textarea"){this.options.transformType="textarea"}else{if(i=="select"){this.options.transformType="select"}else{if(j.data("transformType")!=undefined){this.options.transformType=j.data("transformType")}else{this.options.transformType=j.attr("type")}}}var g=undefined;switch(this.options.transformType){case"password":g=this._createInputPassword();break;case"file":g=this._createInputFile();break;case"checkbox":g=this._createInputCheckbox();break;case"radio":g=this._createInputRadio();break;case"switch":g=this._createInputSwitch();break;case"select":g=this._createInputSelect();break;case"textarea":g=this._createInputTextarea();break;case"search":g=this._createInputSearch();break;case"email":g=this._createInputEmail();break;case"tel":g=this._createInputTel();break;case"number":g=this._createInputNum();break;default:g=this._createInputText()}g.inputControl()},_createInputTextarea:function(){var a=this.element;var f=b("<div/>").addClass("input-control").addClass("textarea");var g=a.clone(true);var h=a.parent();g.appendTo(f);f.insertBefore(a);a.remove();return f},_createInputSelect:function(){var a=this.element;var f=b("<div/>").addClass("input-control").addClass("select");var g=a.clone(true);var h=a.parent();g.val(a.val()).appendTo(f);f.insertBefore(a);a.remove();return f},_createInputSwitch:function(){var m=this.element;var j=b("<div/>").addClass("input-control").addClass("switch");var i=b("<label/>");var a=b("<span/>").addClass("check");var k=m.clone(true);var l=m.parent();var n=b("<span/>").addClass("caption").html(m.data("caption")!=undefined?m.data("caption"):"");i.appendTo(j);k.appendTo(i);a.appendTo(i);n.appendTo(i);j.insertBefore(m);m.remove();return j},_createInputCheckbox:function(){var m=this.element;var j=b("<div/>").addClass("input-control").addClass("checkbox");var i=b("<label/>");var a=b("<span/>").addClass("check");var k=m.clone(true);var l=m.parent();var n=b("<span/>").addClass("caption").html(m.data("caption")!=undefined?m.data("caption"):"");i.appendTo(j);k.appendTo(i);a.appendTo(i);n.appendTo(i);j.insertBefore(m);m.remove();return j},_createInputRadio:function(){var m=this.element;var j=b("<div/>").addClass("input-control").addClass("radio");var i=b("<label/>");var a=b("<span/>").addClass("check");var k=m.clone(true);var l=m.parent();var n=b("<span/>").addClass("caption").html(m.data("caption")!=undefined?m.data("caption"):"");i.appendTo(j);k.appendTo(i);a.appendTo(i);n.appendTo(i);j.insertBefore(m);m.remove();return j},_createInputSearch:function(){return this._createInputVal("text","btn-search")},_createInputNum:function(){return this._createInputVal("number","btn-clear")},_createInputTel:function(){return this._createInputVal("tel","btn-clear")},_createInputEmail:function(){return this._createInputVal("email","btn-clear")},_createInputText:function(){return this._createInputVal("text","btn-clear")},_createInputPassword:function(){return this._createInputVal("password","btn-reveal")},_createInputFile:function(){return this._createInputVal("file","btn-file")},_createInputVal:function(i,m){var n=this.element;var j=b("<div/>").addClass("input-control").addClass(i);var a=b("<button/>").addClass(m);var k=n.clone(true);var l=n.parent();k.appendTo(j);a.appendTo(j);j.insertBefore(n);n.remove();return j},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);
//ListView
(function(b){b.widget("metro.listview",{version:"1.0.0",options:{onGroupExpand:function(a){},onGroupCollapse:function(a){},onListClick:function(a){}},_create:function(){var d=this,a=this.element;a.children(".collapsed").children(".group-content").hide();a.find(".group-title").on("click",function(c){var e=b(this),i=e.parent(".list-group"),j=i.children(".group-content");i.toggleClass("collapsed");if(i.hasClass("collapsed")){j.slideUp();d.options.onGroupCollapse(i)}else{j.slideDown();d.options.onGroupExpand(i)}c.preventDefault()});a.find(".list").on("click",function(c){a.find(".list").removeClass("active");b(this).toggleClass("active");d.options.onListClick(b(this));c.preventDefault()})},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);
//Notify
(function(e){var h=false;var f=[];var g={_container:null,_notify:null,_timer:null,options:{icon:"",caption:"",content:"",shadow:true,width:"auto",height:"auto",style:false,position:"right",timeout:3000},init:function(a){this.options=e.extend({},this.options,a);this._build();return this},_build:function(){this._container=h||e("<div/>").addClass("metro notify-container").appendTo("body");h=this._container;var a=this.options;if(a.content==""||a.content==undefined){return false}this._notify=e("<div/>").addClass("notify");if(a.shadow){this._notify.addClass("shadow")}if(a.style&&a.style.background!=undefined){this._notify.css("background-color",a.style.background)}if(a.style&&a.style.color!=undefined){this._notify.css("color",a.style.color)}if(a.caption!=""&&a.caption!=undefined){e("<div/>").addClass("caption").html(a.caption).appendTo(this._notify)}if(a.content!=""&&a.content!=undefined){e("<div/>").addClass("content").html(a.content).appendTo(this._notify)}if(a.width!="auto"){this._notify.css("min-width",a.width)}if(a.height!="auto"){this._notify.css("min-height",a.height)}this._notify.hide().appendTo(this._container).fadeIn("slow");f.push(this._notify);this.close(a.timeout)},close:function(a){this.clear();if(a==parseInt(a)){var b=this;this._timer=setTimeout(function(){b._timer=null;b._hide()},a);return this}else{if(a==undefined){return this._hide()}}return this},clear:function(){if(this._timer!=null){clearTimeout(this._timer);this._timer=null;return this}else{return false}},_hide:function(){this.clear();if(this._notify!=undefined){this._notify.hide("slow",function(){this.remove();f.splice(f.indexOf(this._notify),1)});return this}else{return false}},closeAll:function(){f.forEach(function(a){a.hide("slow",function(){a.remove();f.splice(f.indexOf(a),1)})});return this}};e.Notify=function(a){return Object.create(g).init(a)};e.Notify.show=function(b,a){return e.Notify({content:b,caption:a})}})(jQuery);
//Panel
//(function(b){b.widget("metro.panel",{version:"1.0.0",options:{onCollapse:function(){},onExpand:function(){}},_create:function(){var a=this.element,g=this.options,f=a.children(".panel-header"),h=a.children(".panel-content");f.on("click",function(){h.slideToggle("fast",function(){a.toggleClass("collapsed");if(a.hasClass("collapsed")){g.onCollapse()}else{g.onExpand()}})})},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);
//Progress Bar
(function(b){b.widget("metro.progressbar",{version:"1.0.1",options:{value:0,color:"bg-cyan",animate:false,max:100,onchange:function(a){}},_create:function(){var f=this,a=this.element,e=this.options;if(a.data("value")!=undefined){this.value(a.data("value")+"%")}if(a.data("color")!=undefined){e.color=a.data("color")}if(a.data("animate")!=undefined){e.animate=a.data("animate")}if(a.data("max")!=undefined){e.max=a.data("max")}e.max=e.max<0?0:e.max;e.max=e.max>100?100:e.max;this._showBar()},_showBar:function(a){a=a||this.options.value;var f=this.element;f.html("");var e=b("<div />");e.addClass("bar");if(this.options.color.indexOf("bg-")+1){e.addClass(this.options.color)}else{e.css("background",this.options.color)}e.appendTo(f);if(this.options.animate){e.css("width",this.value()+"%").animate({width:a+"%"})}else{e.css("width",a+"%")}this.options.onchange(this.value())},value:function(d){if(d!=undefined){var a=parseInt(d);a=a>this.max?this.max:a;a=a<0?0:a;this._showBar(a);this.options.value=a}else{return parseInt(this.options.value)}},color:function(a){this.options.color=a;if(this.options.color.indexOf("bg-")+1){this.element.find(".bar").addClass(this.options.color)}else{this.element.find(".bar").css("background",this.options.color)}this._showBar()},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);
//Pull Menu
(function(b){b.widget("metro.pullmenu",{version:"1.0.0",options:{},_create:function(){var f=this,a=this.element;var e=(a.data("relation")!=undefined)?a.data("relation"):a.parent().children(".element-menu, .horizontal-menu");/*addTouchEvents(a[0]);*/a.on("click",function(c){e.slideToggle();c.preventDefault();c.stopPropagation()})},_destroy:function(){},_setOption:function(a,d){this._super("_setOption",a,d)}})})(jQuery);$(window).resize(function(){var b=(window.innerWidth>0)?window.innerWidth:screen.width;if(b>800){$(".element-menu").show()}else{$(".element-menu").hide()}});
//Tab Control
(function(a){a.widget("metro.tabcontrol",{version:"1.0.0",options:{effect:"none",activateStoredTab:false,tabclick:function(b){},tabchange:function(b){}},_create:function(){var e=this,d=this.element,c=a(d.children(".tabs")).children("li"),f=a(d.children(".frames")).children(".frame"),b=d.attr("id");if(d.data("effect")!=undefined){this.options.effect=d.data("effect")}this.init(c,f);c.each(function(){var g=a(this).children("a");g.on("click",function(i){i.preventDefault();e.options.tabclick(this);if(a(this).parent().hasClass("disabled")){return false}c.removeClass("active");g.parent("li").addClass("active");f.hide();var h=a(g.attr("href"));switch(e.options.effect){case"slide":h.slideDown();break;case"fade":h.fadeIn();break;default:h.show()}e._trigger("change",null,h);e.options.tabchange(this);if(b!=undefined){window.localStorage.setItem(b+"-current-tab",a(this).attr("href"))}})});if(this.options.activateStoredTab){this._activateStoredTab(c)}},init:function(b,d){var c=this;b.each(function(){if(a(this).hasClass("active")){var e=a(a(a(this).children("a")).attr("href"));d.hide();e.show();c._trigger("change",null,e)}})},_activateStoredTab:function(b){var c=window.localStorage.getItem(this.element.attr("id")+"-current-tab");if(c!=undefined){b.each(function(){var d=a(this).children("a");if(d.attr("href")==c){d.click()}})}},_destroy:function(){},_setOption:function(b,c){this._super("_setOption",b,c)}})})(jQuery);
//Table
(function(a){a.widget("metro.tablecontrol",{version:"1.0.0",options:{width:"100%",height:"auto",cls:"table",checkRow:false,colModel:[],data:[]},_create:function(){var b=this.element,c;b.css({width:this.options.width,height:this.options.height});c=this.createTable(b);this.addHeader(c,this.options.colModel);this.addTableData(c,this.options.data);c.addClass(this.options.cls)},addHeader:function(b,f){var e=a("<thead/>").appendTo(b);var c,d=a("<tr/>").appendTo(e);a.each(f,function(g,h){c=a("<th/>").addClass(h.hcls).html(h.caption).appendTo(d)})},createTable:function(b){return a("<table/>").appendTo(b)},addTableData:function(b,e){var d=this,c=a("<tbody/>").appendTo(b);a.each(e,function(f,g){d.addRowData(c,g)})},addRowData:function(b,d){var e,c=a("<tr/>").appendTo(b);if(d.__row_class!=undefined){c.addClass(d.__row_class)}a.each(this.options.colModel,function(f,g){e=a("<td/>").css("width",g.width).addClass(g.cls).html(d[g.field]).appendTo(c)})},_destroy:function(){},_setOption:function(b,c){this._super("_setOption",b,c)}})})(jQuery);$(function(){$("[data-role=table]").tablecontrol()});
//Touch Handler
var hasTouch="ontouchend" in window,eventTimer;var moveDirection="undefined",startX,startY,deltaX,deltaY,mouseDown=false;function addTouchEvents(a){if(hasTouch){a.addEventListener("touchstart",touch2Mouse,true);a.addEventListener("touchmove",touch2Mouse,true);a.addEventListener("touchend",touch2Mouse,true)}}function touch2Mouse(a){var c=a.changedTouches[0];var d;switch(a.type){case"touchstart":d="mousedown";break;case"touchend":d="mouseup";break;case"touchmove":d="mousemove";break;default:return}if(d=="mousedown"){eventTimer=(new Date()).getTime();startX=c.clientX;startY=c.clientY;mouseDown=true}if(d=="mouseup"){if((new Date()).getTime()-eventTimer<=500){d="click"}else{if((new Date()).getTime()-eventTimer>1000){d="longclick"}}eventTimer=0;mouseDown=false}if(d=="mousemove"){if(mouseDown){deltaX=c.clientX-startX;deltaY=c.clientY-startY;moveDirection=deltaX>deltaY?"horizontal":"vertical"}}var b=document.createEvent("MouseEvent");b.initMouseEvent(d,true,true,window,1,c.screenX,c.screenY,c.clientX,c.clientY,false,false,false,false,0,null);c.target.dispatchEvent(b);a.preventDefault()};

//Initiator
//Note! This should be manually modified according to one's choice on widgets.
(function(a){a.Metro.initAccordions=function(b){if(!a.fn.accordion){return}if(b!=undefined){a(b).find("[data-role=accordion]").accordion()}else{a("[data-role=accordion]").accordion()}};a.Metro.initButtonSets=function(b){if(b!=undefined){if(a.fn.buttonset){a(b).find("[data-role=button-set]").buttonset()}if(a.fn.buttongroup){a(b).find("[data-role=button-group]").buttongroup()}}else{if(a.fn.buttonset){a("[data-role=button-set]").buttonset()}if(a.fn.buttongroup){a("[data-role=button-group]").buttongroup()}}};a.Metro.initCalendars=function(b){if(!a.fn.calendar){return}if(b!=undefined){a(b).find("[data-role=calendar]").calendar()}else{a("[data-role=calendar]").calendar()}};a.Metro.initCarousels=function(b){if(!a.fn.carousel){return}if(b!=undefined){a(b).find("[data-role=carousel]").carousel()}else{a("[data-role=carousel]").carousel()}};a.Metro.initCountdowns=function(b){if(!a.fn.countdown){return}if(b!=undefined){a(b).find("[data-role=countdown]").countdown()}else{a("[data-role=countdown]").countdown()}};a.Metro.initDatepickers=function(b){if(!a.fn.datepicker){return}if(b!=undefined){a(b).find("[data-role=datepicker]").datepicker()}else{a("[data-role=datepicker]").datepicker()}};a.Metro.initDropdowns=function(b){if(!a.fn.dropdown){return}if(b!=undefined){a(b).find("[data-role=dropdown]").dropdown()}else{a("[data-role=dropdown]").dropdown()}};a.Metro.initFluentMenus=function(b){if(!a.fn.fluentmenu){return}if(b!=undefined){a(b).find("[data-role=fluentmenu]").fluentmenu()}else{a("[data-role=fluentmenu]").fluentmenu()}};a.Metro.initHints=function(b){if(!a.fn.hint){return}if(b!=undefined){a(b).find("[data-hint]").hint()}else{a("[data-hint]").hint()}};a.Metro.initInputs=function(b){if(!a.fn.inputControl){return}if(b!=undefined){a(b).find("[data-role=input-control], .input-control").inputControl()}else{a("[data-role=input-control], .input-control").inputControl()}};a.Metro.transformInputs=function(b){if(!a.fn.inputTransform){return}if(b!=undefined){a(b).find("[data-transform=input-control]").inputTransform()}else{a("[data-transform=input-control]").inputTransform()}};a.Metro.initListViews=function(b){if(!a.fn.listview){return}if(b!=undefined){a(b).find("[data-role=listview]").listview()}else{a("[data-role=listview]").listview()}};a.Metro.initLives=function(b){if(!a.fn.livetile){return}if(b!=undefined){a(b).find("[data-role=live-tile], [data-role=live]").livetile()}else{a("[data-role=live-tile], [data-role=live]").livetile()}};a.Metro.initProgreeBars=function(b){if(!a.fn.progressbar){return}if(b!=undefined){a(b).find("[data-role=progress-bar]").progressbar()}else{a("[data-role=progress-bar]").progressbar()}};a.Metro.initRatings=function(b){if(!a.fn.rating){return}if(b!=undefined){a(b).find("[data-role=rating]").rating()}else{a("[data-role=rating]").rating()}};a.Metro.initScrolls=function(b){if(!a.fn.scrollbar){return}if(b!=undefined){a(b).find("[data-role=scrollbox]").scrollbar()}else{a("[data-role=scrollbox]").scrollbar()}};a.Metro.initSliders=function(b){if(!a.fn.slider){return}if(b!=undefined){a(b).find("[data-role=slider]").slider()}else{a("[data-role=slider]").slider()}};a.Metro.initTabs=function(b){if(!a.fn.tabcontrol){return}if(b!=undefined){a(b).find("[data-role=tab-control]").tabcontrol()}else{a("[data-role=tab-control]").tabcontrol()}};a.Metro.initTimes=function(b){if(!a.fn.times){return}if(b!=undefined){a(b).find("[data-role=times]").times()}else{a("[data-role=times]").times()}};a.Metro.initTrees=function(b){if(!a.fn.treeview){return}if(b!=undefined){a(b).find("[data-role=treeview]").treeview()}else{a("[data-role=treeview]").treeview()}};a.Metro.initSteppers=function(b){if(!a.fn.stepper){return}if(b!=undefined){a(b).find("[data-role=stepper]").stepper()}else{a("[data-role=stepper]").stepper()}};a.Metro.initStreamers=function(b){if(!a.fn.streamer){return}if(b!=undefined){a(b).find("[data-role=streamer]").streamer()}else{a("[data-role=streamer]").streamer()}};a.Metro.initDragTiles=function(b){if(!a.fn.dragtile){return}if(b!=undefined){a(b).find("[data-role=drag-drop]").dragtile()}else{a("[data-role=drag-drop]").dragtile()}};a.Metro.initPulls=function(b){if(!a.fn.pullmenu){return}if(b!=undefined){a(b).find("[data-role=pull-menu], .pull-menu").pullmenu()}a("[data-role=pull-menu], .pull-menu").pullmenu()};a.Metro.initPanels=function(b){if(!a.fn.panel){return}if(b!=undefined){a(b).find("[data-role=panel]").panel()}a("[data-role=panel]").panel()};a.Metro.initTileTransform=function(b){if(!a.fn.tileTransform){return}if(b!=undefined){a(b).find("[data-click=transform]").tileTransform()}a("[data-click=transform]").tileTransform()};a.Metro.initAll=function(b){a.Metro.initAccordions(b);a.Metro.initButtonSets(b);a.Metro.initCalendars(b);a.Metro.initCarousels(b);a.Metro.initCountdowns(b);a.Metro.initDatepickers(b);a.Metro.initDropdowns(b);a.Metro.initFluentMenus(b);a.Metro.initHints(b);a.Metro.initInputs(b);a.Metro.transformInputs(b);a.Metro.initListViews(b);a.Metro.initLives(b);a.Metro.initProgreeBars(b);a.Metro.initRatings(b);a.Metro.initScrolls(b);a.Metro.initSliders(b);a.Metro.initTabs(b);a.Metro.initTimes(b);a.Metro.initTrees(b);a.Metro.initSteppers(b);a.Metro.initStreamers(b);a.Metro.initDragTiles(b);a.Metro.initPulls(b);a.Metro.initPanels(b);a.Metro.initTileTransform(b)}})(jQuery);$(function(){$.Metro.initAll()});$(function(){if(METRO_AUTO_REINIT){var b=$(".metro").html(),a;setInterval(function(){a=$(".metro").html();if(b!==a){b=a;$.Metro.initAll()}},500)}});

/*! utility */
var _={};_.debounce=function(c,e,b){var h,g,a,f,i;var d=function(){var j=$.now()-f;if(j<e&&j>0){h=setTimeout(d,e-j)}else{h=null;if(!b){i=c.apply(a,g);a=g=null}}};return function(){a=this;g=arguments;f=$.now();var j=b&&!h;if(!h){h=setTimeout(d,e)}if(j){i=c.apply(a,g);a=g=null}return i}};function localStorageLength(){var b="";for(var a in window.localStorage){if(window.localStorage.hasOwnProperty(a)){b+=window.localStorage[a]}}return b.length}function localStorageSpaceDisp(){var a=localStorageLength();return a?(3+((a*16)/(8*1024))).toFixed(3)+" KB":"Empty (0 KB)"}function assert(d,a,c){if(d){return}var b="Assert failure: "+a+"<br/>"+c;if(notify&&notify.warning){notify.warning(b)}throw new Error(b.replaceAll("<br/>",", "))}String.prototype.replaceAll=function(d,c){return this.split(d).join(c)};function urlParam(c,e){var g=true;var b=function(h,i){c+=(g?"?":"&");g=false;c+=h+"="+i};for(var a in e){var f=e[a];if(!f){continue}if(f instanceof Array){for(var d=0;d<f.length;++d){b(a+"[]",f[d])}}else{b(a,f)}}console.log("[URLMaker] url="+c);return c}function truncateText(b,a){if(b.length<=Math.abs(a)){return b}b=a>=0?b.slice(0,a):b.slice(a);return a>=0?(b+TAG("span","text-muted","…")):b}function TAG(){if(arguments.length==1){return arguments[0]}var a=arguments[arguments.length-1];arguments[arguments.length-1]=undefined;sty=arguments[1]?'class="'+arguments[1]+'"':"";attr=arguments[2]?attrConverter(arguments[2]):"";return"<"+arguments[0]+" "+sty+" "+attr+">"+a+"</"+arguments[0]+">"}function attrConverter(a){return String(a).split('"').join('\\"').split("'").join('"')}function ICON(a){return TAG("i","icon-"+a,"")}function dateConverter(j,a){var e=new Date(j);if(isNaN(e.getTime())){return"DATE INVAILD!"}var h=typeof(dateGetDays)!="undefined"?dateGetDays(e):false;var c=numFill(e.getFullYear(),4);var f=numFill([e.getMonth()+1,e.getDate()],2).join("-");var b=numFill([e.getHours(),e.getMinutes(),e.getSeconds()],2).join(":");var g=new Date()-e;var i=b;if(g>=129600000){i=f+" "+i}if(g>=29808000000){i=c+"-"+i}if(a){return TAG("time","timeago","datetime='"+j+"'","")+TAG("span","datetime-full"," &middot; "+i)}f=h||c+"-"+f;return f+" "+b}function formatDateTime(a,b){b=b||0;if(isNaN(a.getTime())){return"DATE INVAILD!"}return(b==0||b==1?a.getFullYear()+"/"+("0"+(a.getMonth()+1)).slice(-2)+"/"+("0"+a.getDate()).slice(-2):"")+(b==0?" ":"")+(b==0||b==2?a.getHours()+":"+("0"+a.getMinutes()).slice(-2)+":"+("0"+a.getSeconds()).slice(-2):"")}function numFill(b,d){var a=false;if(typeof(b)=="number"){a=true;b=[b]}for(var c=0;c<b.length;++c){b[c]=String(b[c]);while(b[c].length<d){b[c]="0"+b[c]}}return a?b[0]:b}function thousandSymbol(a){a=a+"";var b=/(-?\d+)(\d{3})/;while(b.test(a)){a=a.replace(b,"$1,$2")}return a}function roundTo(b,c){var a=Math.pow(10,c);return Math.round(b*a)/a}function reinit(a){var b=new Date();$.Metro.initAccordions(a);$.Metro.initDropdowns(a);$.Metro.initInputs(a);$.Metro.initListViews(a);$.Metro.initTabs(a);$.Metro.initPanels(a);console.log("[Reinit]"+(a?" Area="+a:"")+" "+(new Date()-b)+"ms")}function navClick(a){if(a){a()}if($(".pull-menu").css("display")=="none"){return}$(".pull-menu").click()}function setShow(c,b,a){if(!a){setShow(b,c,true);return}switchVisible(c,false);switchVisible(b,true)}function switchClass(b,a,c){if(c){$(b).addClass(a)}else{$(b).removeClass(a)}}function switchVisible(a,b){if(b){$(a).removeClass("hide")}else{$(a).addClass("hide")}}function switchEnabled(c,d){var b=["info","default","primary","inverse","success"];if(d){$(c).removeAttr("disabled");for(var a=0;a<b.length;++a){if($(c).hasClass("_"+b[a])){$(c).removeClass("_"+b[a]).addClass(b[a])}}}else{$(c).attr("disabled","disabled");for(var a=0;a<b.length;++a){if($(c).hasClass(b[a])){$(c).removeClass(b[a]).addClass("_"+b[a])}}}}function translateMagnificPopup(){$.extend(true,$.magnificPopup.defaults,{tClose:"關閉 (ESC)",tLoading:"載入中...",gallery:{tPrev:"上一張 (LEFT)",tNext:"下一張 (RIGHT)",tCounter:"%curr% / %total%"},image:{tError:'<a href="%url%">本圖片</a>無法載入！'},ajax:{tError:'<a href="%url%">本內容</a>無法載入！'},inline:{tNotFound:"找不到引用的內容。請通知網頁作者！"}});console.log("[translateMagnificPopup] translated.")}function modal(b,d,a,e){var c={items:{src:$(b)},type:"inline",removalDelay:250,modal:d,mainClass:"mfp-fade"+(a?" mfp-zoom":"")};$.extend(true,c,e);$.magnificPopup.open(c);reinit()}function modalHide(){var b=new Date();$.magnificPopup.close();var a=new Date();console.log("[modalHide] "+(a-b)+"ms")}function currentModal(){return $.magnificPopup.instance.currItem}DATATABLES_TRANSLATION={lengthMenu:"每頁顯示 _MENU_ 筆",zeroRecords:"無符合條件的記錄",info:"顯示第 _START_ ~ _END_ 筆資料，共 _TOTAL_ 筆",infoEmpty:"顯示 0 筆資料",infoFiltered:"(從 _MAX_ 筆記錄篩選)",loadingRecords:"載入中...",processing:"處理中...",infoPostFix:"",thousands:",",search:"搜尋：",paginate:{first:ICON("first-2")+"第一頁",last:ICON("last-2")+" 最末頁",next:"下一頁 "+ICON("next"),previous:ICON("previous")+" 上一頁"},aria:{sortAscending:": 遞增排序",sortDescending:": 遞減排序"}};var pendingLightboxOption=null;function lightbox(b){var a=function(c){setTimeout(function(){if(pendingLightboxOption){Shadowbox.open(pendingLightboxOption);pendingLightboxOption=null}},400)};b.options=b.options||{onClose:a};b.options.onClose=a;if(Shadowbox.isOpen()){pendingLightboxOption=b;Shadowbox.close();return}Shadowbox.open(b)}function getBase64Image(b){try{var c=document.createElement("canvas");c.width=b.width;c.height=b.height;var a=c.getContext("2d");a.drawImage(b,0,0);var d=b.src.match(/(jpg|jpeg|png)/);if(d.length){d=d[0]=="jpg"?"jpeg":d[0]}else{throw"Invalid image type for canvas encoder."}console.log(d,c.toDataURL("image/"+d));return c.toDataURL("image/"+d)}catch(f){console&&console.log(f);return"error"}};

//EOF